\documentclass{beamer}
\usepackage[utf8]{inputenc}
\inputencoding{latin1}
\usepackage[T1]{fontenc}
\usepackage[spanish,english]{babel}
\usepackage{graphics}
\usepackage{graphicx}
\usepackage{listings}
\usetheme[secheader=true]{Madrid}
\useinnertheme{rectangles}
\usepackage{tikz}
\beamertemplatenavigationsymbolsempty 
\title{FPGA}
\author{Miguel A Sagreras}
\date[2015]{}
%\institution[short name]{long name}
\begin{document}

\begin{frame}
\titlepage
\end{frame}

\section{Lógica binaria}
\begin{frame}[t]
\frametitle{Números}
{\small
\begin{columns}[t]
	\column{0.1\textwidth}
		\begin{tabular}{r}
		\visible<1-> 0 \\
		\visible<1-> 1 \\
		\visible<1-> 2 \\
		\visible<1-> 3 \\
		\visible<1-> 4 \\
		\visible<1-> 5 \\
		\visible<1-> 6 \\
		\visible<1-> 7 \\
		\visible<1-> 8 \\
		\visible<1-> 9 \\
		\visible<2-> {10} \\
		\visible<3-> {11} \\
		\visible<3-> {12} \\
		\visible<3-> {13} \\
		\visible<3-> {14} \\
		\visible<3-> {15} \\
		\visible<4-> {16}
		\end{tabular}
	\column{0.1\textwidth}
		\begin{tabular}{r}
		\visible<1-> 0 \\
		\visible<1-> 1 \\
		\visible<1-> 2 \\
		\visible<1-> 3 \\
		\visible<1-> 4 \\
		\visible<1-> 5 \\
		\visible<1-> 6 \\
		\visible<1-> 7 \\
		\visible<1-> 8 \\
		\visible<1-> 9 \\
		\visible<2-> {A} \\
		\visible<3-> {B} \\
		\visible<3-> {C} \\
		\visible<3-> {D} \\
		\visible<3-> {E} \\
		\visible<3-> {F} \\
		\visible<4-> {10}
		\end{tabular}
	\column{0.8\textwidth}
		\begin{tabular}{r}
		\visible<5-> {0} \\
		\visible<5-> {1} \\
		\visible<6-> {10} \\
		\visible<7-> {11} \\
		\visible<8-> {100} \\
		\visible<9-> {101} \\
		\visible<10-> {110} \\
		\visible<10-> {111} \\
		\visible<10-> {1000} \\
		\visible<10-> {1001} \\
		\visible<10-> {1010} \\
		\visible<10-> {1011} \\
		\visible<10-> {1100} \\
		\visible<10-> {1101} \\
		\visible<10-> {1110} \\
		\visible<10-> {1111} \\
		\visible<10-> {10000}
		\end{tabular}
\end{columns}}
\end{frame}

\begin{frame}
\frametitle{Valores lógicos}
\begin{center}
	\includegraphics[width=0.9\textwidth]{logic_values.eps}
\end{center}
\end{frame}

\begin{frame}
\frametitle{Compuertas}
\begin{center}
	\includegraphics[width=\textwidth]{logic_gates.eps}
\end{center}
\end{frame}

\begin{frame}
\frametitle{Aritmética}
\begin{center}
	\includegraphics[width=\textwidth]{adder1.eps}
\end{center}
\end{frame}

\begin{frame}
\frametitle{Sumador}
\begin{center}
	\includegraphics[height=.8\textheight]{adder2.eps}
\end{center}
\end{frame}

\begin{frame}
\frametitle{Diseño}
	\begin{itemize}
	\item Dificultades en el diseño
		\begin{itemize}
		\item Tiempos de propagación
			\begin{itemize}
			\item Compuertas
			\item Cables
			\end{itemize}
		\end{itemize}
	\item Soluciónes parciales
		\begin{itemize}
			\item Distintas Arquitecturas
			\begin{itemize}
			\item Ripple Carry Adder
			\item Carry Look Ahead Adder
			\item Carry Save Adder
			\item Carry Select Adder
			\end{itemize}
		\end{itemize}
	\end{itemize}
\end{frame}

\begin{frame}
%	ENIAC was built at the University of Pennsylvania between 1943 and 1945 by two professors, John Mauchly and the 24 year old J. Presper Eckert, who got funding from the war department after promising they could build a machine that would replace all the "computers", meaning the women who were employed calculating the firing tables for the army's artillery guns. 
	ENIAC se construyó en la Universidad de Pennsylvania entre 1943 y 1945 por dos profesores, John Mauchly y J. Presper Eckert de 24 años quienes obtuvieron fondos del departamento de guerra después de prometer que podían construrir una máquina que reemplazaría a todoas las "computadoras", queriendo decir todas las mujeres que empleadas en calcular las tablas de disparo de las armas de artilleria
\end{frame}

\begin{frame}
\frametitle{ENIAC Electronic Numerical Integrator And Computer}
\framesubtitle{Descripción}
\begin{itemize}
	\item 1943 Físico J. Mauchly e Ingeniero J. P. Eckert
	\item Cálculo de tablas de disparo de artilleria
	\item Programación por interruptores y clavijas
	\item 17.000 tubos de vacio
	\item Aproximadamentoe 4.100 bits
	\item 150 KW
	\item 167 $m^{2}$
	\item 500.000 USD o 6.000.000 USD actualizados
\end{itemize}
\end{frame}

\begin{frame}
%	The day that Mauchly and Eckert saw the first small piece of ENIAC work, the persons they ran to bring to their lab to show off their progress were some of these female computers (one of whom remarked, "I was astounded that it took all this equipment to multiply 5 by 1000").
	El día que Mauchly y Eckert vieron la primera pieza pequeña de la ENIAC trabajando, la persona a la que fueron corriendo a traer al laboratorio para mostrar su progreso fue a algunas de las computadoras mujeres de las que una remarco, quedé atonita al ver que llevó todo ese equipo para multiplicar 5 por 1000.
\end{frame}

\begin{frame}
\frametitle{ENIAC o Electronic Numerical Integrator And Computer}
\begin{center}
	\includegraphics[height=0.8\textheight]{Eniac.jpg}
\end{center}
\end{frame}

\begin{frame}
\frametitle{Ley de Moore}
	\begin{itemize}
		\item 1975
		\item Gordon E. Moore Co-fundador de Intel
		\item Duplicación de la escala de integración cada dos años.
	\end{itemize}
	\begin{center}
		\includegraphics[width=7cm]{mooreslaw.eps} 
	\end{center}
\end{frame}

\section{Field Programmable Gate Arrays}
\begin{frame}
\frametitle{Gate Arrays o Arreglos de Compuertas}
	\begin{columns}[t]
	\column{0.6\textwidth}
		\begin{itemize}
		\item C.I. con bloques prearmandos para propósito específico
		\item Ventajas
			\begin{itemize}
			\item Fabricación de gran escala
			\item Solo requieren las máscaras de interconexión 
			\item Reduce el costo de la aplicación especifca
			\end{itemize}
		\end{itemize}
	\column{0.4\textwidth}
		\begin{center}
			\includegraphics[width=\textwidth]{S-MOS_Systems_ASIC_SLA6140.jpg} 
		\end{center}
	\end{columns}
%"S-MOS Systems ASIC SLA6140" by Antoinebercovici - Own work. Licensed under CC BY-SA 3.0 via Commons - https://commons.wikimedia.org/wiki/File:S-MOS_Systems_ASIC_SLA6140.jpg#/media/File:S-MOS_Systems_ASIC_SLA6140.jpg
\end{frame}

\begin{frame}
\frametitle{FPGAs Field Programmable Gate Arrays}
	\begin{itemize}
		\item 1985 Xilinx
		\item Gate Arrays cuya red interconexión es programable.
		\item Son los impulsores del incremento en la escala de integración
		\item Tecnología de exportación retringida
	\end{itemize}
\end{frame}

\begin{frame}
\frametitle{Ventajas}
	\begin{itemize}
		\item FPGA vs procesadores
		\begin{itemize}
			\item Más rápidas
			\item Menor consumo a igual aplicación
			\item Se adaptan a aplicaciones específicas
		\end{itemize}
		\item FPGA vs ASIC
		\begin{itemize}
			\item Menor costo de fabricacíon para bajo volunem
			\item Reprogramables para actualizaciones de la aplicación
		\end{itemize}
	\end{itemize}
\end{frame}

\begin{frame}
\frametitle{Aplicaciones}
	\begin{minipage}[c]{5.5cm}
		\begin{itemize}
			\item Aeroespacio y Defensa
			\item Electro medicina.
			\item Protipado de ASIC.
			\item Audio
			\item Automotor
			\item Radio difusion
			\item Electronica de Consumo
			\item Data Center
			\item Video \& Procesamiento de Imagen
		\end{itemize}
	\end{minipage}
	\begin{minipage}[c]{5.5cm}
		\begin{itemize}
			\item Computación de Alta Prestación
			\item Industrial
			\item Medicina
			\item Instrumentación Cientifica
			\item Seguridad
			\item Communications alámbricas
			\item Comuniaciones inalabámbricas
		\end{itemize}
	\end{minipage}
\end{frame}

\begin{frame}[t]
\frametitle{Diagrama en bloque}
	\begin{center}
		\includegraphics[width=0.75\textwidth]{fpga.eps}
	\end{center}
\end{frame}

\begin{frame}[t]
\frametitle{Elemento Lógico}
	\begin{center}
		\includegraphics[width=0.75\textwidth]{fpgalut.eps}
	\end{center}
\end{frame}

\begin{frame}
\frametitle{Nu Horizons Spartan 3A DSP board}
	\begin{center}
		\includegraphics[width=11cm]{nuhorizonsS3DSP.jpg}
	\end{center}
\end{frame}

\begin{frame}
\frametitle{Descripción}
\framesubtitle{Nu Horizons Spartan 3A DSP board}
	\begin{itemize}
		\item 2008
		\item Spartan 3A DSP
			\begin{itemize}
				\item 37440 LE equivalente a 14 procesadores de 32 Bits.
				\item 84 BRAM de 18Kbits
				\item 84 Unidades de DSP
				\item 250 Mhz
				\item Tecnología de exportación restringida
			\end{itemize}
		\item 32 MBytes de Memoria DDR1 333 MT/s
		\item 2 ADC
			\begin{itemize}
				\item Diferencial
				\item 14 bits
				\item 120 MS/s
				\item 500 Mhz
			\end{itemize}
		\item Video DAC salida diferencial
		\item Ethernet
		\item Precio 200 USD
	\end{itemize}
\end{frame}

\begin{frame}[t]
\frametitle{Ejemplo de aplicación : Convolución}
\framesubtitle{Algoritmo en Lenguaje C y en Assembler Optimizado}
	\begin{center}
		$y[n] = \sum\limits_{i=0}^{N=84-1}\ h[i]*x[n-i]$
	\end{center}
	\begin{columns}[t]
		\column{0.4\textwidth}
		\lstinputlisting[language=C,
			tabsize=4,
			basicstyle=\ttfamily\tiny,
			keywordstyle=\color{blue}\ttfamily,
			stringstyle=\color{red}\ttfamily,
			commentstyle=\color{brown}\ttfamily]{convolution.c}
		\column{0.6\textwidth}
		\lstinputlisting[language=C,
			tabsize=4,
			basicstyle=\ttfamily\tiny,
			keywordstyle=\color{blue}\ttfamily,
			stringstyle=\color{red}\ttfamily,
			commentstyle=\color{brown}\ttfamily]{convolution.s}
	\end{columns}
\end{frame}

\begin{frame}
\frametitle{Ejemplo de aplicación : Convolución}
\framesubtitle{Diagrama en bloque para FPGA}
	\begin{center}
		$y[n] = \sum\limits_{i=0}^{N=84-1}\ h[i]*x[n-i]$
	\end{center}
	\begin{center}
		\includegraphics[width=11cm]{convolutionfpga.eps}
	\end{center}
\end{frame}

\begin{frame}[t]
\frametitle{Ejemplo de aplicación : Convolución}
\framesubtitle{Comparación entre FPGA y Procesador}
	\begin{columns}[t]
	\column{0.4\textwidth}
		\begin{itemize}
			\item Tecnología 2004
			\item Spartan 3A DSP
			\item 90 nm
			\item 250 Mhz o ciclo de 4 ns
			\item Un resultado por ciclo
			\item Un resultado cada 4 ns
		\end{itemize}
	\column{0.6\textwidth}
		\begin{itemize}
			\item Tecnología 2008
			\item Intel i7 920
			\item 45 nm
			\item 2.66 Ghz  o ciclo de .375 ps
			\item Un resultado cada 84 ciclos del lazo
			\item Un lazo 7 instrucciones
			\item 2.5 instrucciones por ciclo promedio
			\item Un resultado cada 84*7/(2.5*2.66) = 88 ns
		\end{itemize}
	\end{columns}
	\begin{center}
		$\frac{Spartan3A\ DSP}{Corei7} = \frac{88 ns}{4 ns} = 22$ veces más rápida
	\end{center}
\end{frame}

\begin{frame}
\frametitle{Requerimiento de memoria masiva}
	\begin{itemize}
		\item La FPGA tiene memoria interna pero no es masiva
		\item La transferencia de datos debe ser rápida para poder sostener la tasa de procesamiento
		\item Se requiere tasas de transferencia rápidas a memoria DRAM
	\end{itemize}
\end{frame}

\section{DRAM}
\begin{frame}[t]
\frametitle{DRAM Memoria dinámica}
	\begin{itemize}
		\item 1966
		\item Robert Dennard
		\item Un transistor por bit
	\end{itemize}
	\begin{center}
		\includegraphics[width=6.5cm]{onetransistor.png} 
	\end{center}
\end{frame}

\begin{frame}
\frametitle{Banco de Memoria}
	\begin{center}
	\includegraphics[height=.8\textheight]{membank.eps}
	\end{center}
\end{frame}

\begin{frame}
\frametitle{Multiplexado de la dirección}
	\begin{itemize}
		\item 1966-
		\item Robert Proebsting cofundador de Mostek
		\item Divide la direccion en dos y multiplexa las partes
			\begin{itemize}
				\item Filas \textbf{Row}
				\item Columnas \textbf{Column}
			\end{itemize}
		\item Reduce el tamaño del Chip y por consiguiente su costo.
	\end{itemize}
	\begin{center}
		\includegraphics[width=0.55\textwidth]{MT4C1024-HD.jpg} \\
		\tiny{Micron MT4C1024 Chip. 1 Mbit DRAM. Die size 8662x3969$\mu m$ 1989 - 1991}
	\end{center}
\end{frame}

\begin{frame}
\frametitle{Diagrama en Bloques}
\framesubtitle{MOSTEK DRAM}
	\includegraphics[width=0.9\textwidth]{dramchip.eps}
\end{frame}

\begin{frame}[t]
\frametitle{Versiones más reconocidas}
\framesubtitle{DRAM}
	\begin{itemize}
	\item DRAM Asincrónica
		\begin{itemize}
			\item FPM Fast Page Mode
			\item EDO Extended Data Out - 1995
		\end{itemize}
	\item SDRAM DRAM Sincrónica
		\begin{itemize}
		\item SDR Single Data Rate - 1993 
		\item DDR Double Data Rate - 2000
			\begin{itemize}
			\item DDR1 - 2000
			\item DDR2 - 2003
			\item DDR3 - 2007
			\item DDR4 - 2014
			\end{itemize}
		\end{itemize}
	\end{itemize}
\end{frame}

\begin{frame}
\frametitle{Secuencia de acceso}
\framesubtitle{DRAM}
	\begin{itemize}
		\item Acceder a la fila con las lineas precargardas
		\item Conectar el amplificador de sensado y obtener el valor almacenado
		\item Acceder a la columna
		\item Recuperar el valor leido
		\item Percargar las lineas a la mitad de la tension entre el 0 y el 1 lógico
	\end{itemize}
\end{frame}

\begin{frame}
\frametitle{Diagrama de tiempos FPM  y EDO}
	\begin{center}
		\includegraphics[width=\textwidth]{dram-timings.eps}
	\end{center}
\end{frame}

\begin{frame}
\frametitle{Diagrama de tiempos SDR DRAM}
	\begin{center}
		\includegraphics[width=\textwidth]{sdrdram-timings.eps}
	\end{center}
\end{frame}

\begin{frame}
\frametitle{Diagrama de tiempos DDR DRAM}
	\begin{center}
		\includegraphics[width=\textwidth]{ddrdram-timings.eps}
	\end{center}
\end{frame}

\section{DDR3 DRAM}
\begin{frame}
\frametitle{Diagrama en bloque}
	\begin{center}
		\includegraphics[width=\textwidth]{ddr3-blockdiagraman.eps}
	\end{center}
\end{frame}

\begin{frame}
\frametitle{Diagrama en bloques controlador de DRAM FPGA}
	\begin{center}
		\includegraphics[width=.95\textwidth]{ddrcntroler.eps}
	\end{center}
\end{frame}

\begin{frame}[t]
\frametitle{Program Unit}
	\begin{columns}[t]
	\column{0.5\textwidth}
		\begin{itemize}
			\item Sirve el pedido de la aplicación
			\item Secuencia las instrucciones:
				\begin{itemize}
					\item ACT
					\item READ
					\item WRITE
					\item PRE
					\item REF
				\end{itemize}
		\end{itemize}
	\column{0.6\textwidth}
		\begin{center}
			\includegraphics[width=.75\textwidth]{ddr3-statedbusy.eps}
		\end{center}
	\end{columns}
\end{frame}

\begin{frame}
\frametitle{Processor Unit}
	\begin{itemize}
		\item Temporización de las instrucciones
			\begin{itemize}
				\item ACT
				\item READ
				\item WRITE
				\item PRE
				\item REF
			\end{itemize}
		\item Tiempos de propagación críticos 
	\end{itemize}
\end{frame}


\begin{frame}[t]
\frametitle{Config \& Refresh Unit}
	\begin{itemize}
	\item Ejecuta las intrucciones de inicialización
	\item Temporización de las instrucciones MPR, MRS
	\item Ciclo de refresco
	\item Configuración de BL, CL, AL, WL
	\end{itemize}
	\begin{center}
		\includegraphics[width=0.6\textwidth]{ddr3initstated.eps}
	\end{center}
\end{frame}


\begin{frame}[t]
\frametitle{Scheduler Unit}
	\begin{itemize}
		\item Temporización de las señales de acceso a :
			\begin{itemize}
				\item DRAM
				\item IOFIFOs
			\end{itemize}
		\item Tiempos de propagación críticos
		\item Phase Unit es un registro de desplazamiento con las phases necesarias para todos los eventos posibles
		\item Task Unit elige las salidas del registro de desplazamiento conforme a los diagramas de tiempos
	\end{itemize}
\end{frame}


\begin{frame}[t]
\frametitle{Memoria de linea de retardo}
\begin{columns}[t]
	\column{0.5\textwidth}
	\begin{itemize}
		\item 1947
		\item John Adam Presper Eckert
		\item Lineas de retardo para Radar
		\item EDVAC, UNIVAC I
		\item Medio de propagación Mercurio
		\item 576 Bits
	\end{itemize}
	\column{0.5\textwidth}
	\begin{center}
		\includegraphics[width=4cm]{delay_line.png}
	\end{center}
\end{columns}
\end{frame}


\section{Primeras computadoras}
\subsection{Tecnología analógica}
\begin{frame}[t]
\frametitle{Torpedo Data Computer}
\begin{columns}[t]
	\column{.6\textwidth}
		\begin{itemize}
			\item 1940
			\item Instaladas en submarinos
			\item Cálculo del ajuste de los parámetros \\ del torpedo previo al disparo
		\end{itemize}
	\column{.4\textwidth}
	\begin{center}
	\includegraphics[width=\textwidth]{tdc.jpg} 
	\end{center}
\end{columns}
\end{frame}

\subsection{Tecnología digital electromecánica}

\begin{frame}
\frametitle{Relay}
	\begin{columns}
	\column{.5\textwidth}
	\begin{center}
		\includegraphics[height=3cm]{relay-imagen.jpg}
	\end{center}
	\column{.5\textwidth}
	\begin{center}
		\includegraphics[height=3cm]{relay-diagrama.png}
	\end{center}
\end{columns}
\end{frame}

\begin{frame}
\frametitle{Z3}
\begin{minipage}[c]{5.25cm}
	\begin{itemize}
		\item 1941
		\item Konrad Zuse
		\item Estudio de aeroelasticidad
		\item 64 palabras de 22 bits
		\item 5 Hz
		\item 2000 relays
		\item 4 KW
		\item 1 Tonelada
	\end{itemize}
\end{minipage}
	\begin{minipage}[c]{6.4cm}
		\includegraphics[width=6.4cm]{Z3_Deutsches_Museum.JPG}
	\end{minipage}
\end{frame}

\subsection{Tecnolgía digital electrónica}
\begin{frame}
\frametitle{Tubos de vacio}
	\begin{center}
	\includegraphics[width=.9\textwidth]{ENIAC-Computer-045_book_fin.jpg}
	\end{center}
\end{frame}

\begin{frame}
\frametitle{Memoria Drum}
	\begin{minipage}[b]{7.5cm}
		\begin{itemize}
			\item 1932
			\item Gustav Tauschek
			\item Capacidad de 500 Kbits o 62.5 Kbytes
			\item Precursores de los HDD o discos rigidos
		\end{itemize}
	\end{minipage}
	\begin{minipage}[c]{4cm}
		\begin{center}
			\includegraphics[height=4cm]{Pamiec_bebnowa_1.jpg}
		\end{center}
	\end{minipage}
\end{frame}

\begin{frame}
\frametitle{Core memory}
	\begin{minipage}[c]{7.5cm}
		\begin{itemize}
			\item 1955-1975
			\item Toroides mágneticos
			\item Lectura destructiva
			\item Costo de 1.00(1955) a 0.01(1975) USD por bit
			\item Tecnologías desplazadas
				\begin{itemize}
					\item DRUM
					\item Tubos de Vacio
					\item Transistores
				\end{itemize}
			\item Fabricadas por sastres en el este asiático
		\end{itemize}
	\end{minipage}
	\begin{minipage}[c]{4cm}
		\includegraphics[width=4cm]{Ferrite_core_memory.eps} \\ \\
		\includegraphics[width=2.5cm]{Coincident-current_magnetic_core.eps}
	\end{minipage}
\end{frame}

\begin{frame}[t]
\frametitle{FPGAs Field Programmable Gate Arrays}
\framesubtitle{Restricciones de exportación}
	\begin{center}
		\includegraphics[width=\textwidth]{export.eps}
	\end{center}
\end{frame}

\end{document}

